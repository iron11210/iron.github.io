{
    "version": "https://jsonfeed.org/version/1",
    "title": "杂项笔记",
    "subtitle": "",
    "icon": "http://example.com/images/favicon.ico",
    "description": "",
    "home_page_url": "http://example.com",
    "items": [
        {
            "id": "http://example.com/2024/09/19/networks/network_lec_6/",
            "url": "http://example.com/2024/09/19/networks/network_lec_6/",
            "title": "lecture_6Network Layer 3",
            "date_published": "2024-09-19T10:01:35.177Z",
            "content_html": "<h1 id=\"链路状态ls和距离向量dv算法介绍\"><a class=\"anchor\" href=\"#链路状态ls和距离向量dv算法介绍\">#</a> <span class=\"label danger\">链路状态（LS）和距离向量（DV）算法介绍</span></h1>\n<h2 id=\"1-链路状态算法link-state-ls\"><a class=\"anchor\" href=\"#1-链路状态算法link-state-ls\">#</a> 1. 链路状态算法（Link State, LS）</h2>\n<p><strong>工作原理</strong>：</p>\n<ul>\n<li>\n<p><strong>全局视图</strong>：每个路由器都会维护整个网络的拓扑结构，收集关于整个网络的链路状态信息。</p>\n</li>\n<li>\n<p><strong>链路状态广播</strong>：路由器向网络中的所有其他路由器发送链路状态包（LSA），每个路由器都会广播自己与邻居的连接情况，并包括这些连接的代价。</p>\n</li>\n<li>\n<p><strong>拓扑图更新</strong>：所有路由器根据接收到的链路状态信息构建整个网络的拓扑图。</p>\n</li>\n<li>\n<p><strong>Dijkstra 算法</strong>：一旦所有路由器获得了网络的拓扑图，它们会使用 Dijkstra 算法来计算从自己到每个目的地的最短路径。</p>\n</li>\n</ul>\n<p><strong>优点</strong>：</p>\n<ul>\n<li>\n<p><strong>快速收敛</strong>：LS 算法基于整个网络的拓扑信息进行计算，能够迅速做出决策。</p>\n</li>\n<li>\n<p><strong>路径选择精准</strong>：由于路由器了解整个网络的状态，它能够选择最佳路径，包括负载均衡等高级策略。</p>\n</li>\n</ul>\n<p><strong>缺点</strong>：</p>\n<ul>\n<li>\n<p><strong>计算复杂度高</strong>：LS 算法的时间复杂度为 O (n^2) 或 O (n log n)，对于大型网络来说，计算和存储的开销较大。</p>\n</li>\n<li>\n<p><strong>消息传递量大</strong>：路由器需要定期向整个网络广播链路状态更新，因此在大规模网络中会产生较多的控制流量。</p>\n</li>\n</ul>\n<h2 id=\"2-距离向量算法distance-vector-dv\"><a class=\"anchor\" href=\"#2-距离向量算法distance-vector-dv\">#</a> 2. 距离向量算法（Distance Vector, DV）</h2>\n<p><strong>工作原理</strong>：</p>\n<ul>\n<li>\n<p><strong>局部视图</strong>：每个路由器只与邻居路由器交换路由信息，并且每个路由器只知道自己到邻居的距离。</p>\n</li>\n<li>\n<p><strong>迭代更新</strong>：每个路由器通过与邻居交换 “距离向量”（表示到每个目的地的距离）来逐步构建自己的路由表。路由器根据邻居的信息逐步更新自己的最优路径。</p>\n</li>\n<li>\n<p><strong>贝尔曼 - 福特算法</strong>：DV 算法依赖贝尔曼 - 福特算法进行路径选择，它通过多次迭代更新到各个目的地的最短距离。</p>\n</li>\n</ul>\n<p><strong>优点</strong>：</p>\n<ul>\n<li>\n<p><strong>简单</strong>：DV 算法实现相对简单，路由器只需要与邻居交换信息，不需要维护整个网络的拓扑图。</p>\n</li>\n<li>\n<p><strong>计算开销小</strong>：由于只与邻居交换信息，计算和消息传递的开销较低。</p>\n</li>\n</ul>\n<p><strong>缺点</strong>：</p>\n<ul>\n<li>\n<p><strong>收敛较慢</strong>：由于信息传播速度较慢，尤其在大网络中，收敛时间可能较长。出现网络故障时，DV 算法需要较长时间才能收敛到新的状态。</p>\n</li>\n<li>\n<p><strong>计数到无穷大问题</strong>：当网络中出现环路时，DV 算法可能陷入 “计数到无穷大” 的问题，即路由器不断增大其距离估计值，直到达到上限（通常为 16 跳）。</p>\n</li>\n</ul>\n<h2 id=\"3-ls和dv的比较\"><a class=\"anchor\" href=\"#3-ls和dv的比较\">#</a> 3. LS 和 DV 的比较</h2>\n<ul>\n<li>\n<p><strong>消息复杂度</strong>：LS 的消息复杂度为 O (nE)（n 为节点数，E 为边数），DV 的消息复杂度较低，因为它只在邻居之间交换消息。</p>\n</li>\n<li>\n<p><strong>收敛速度</strong>：LS 算法收敛快，DV 算法由于逐步迭代，收敛时间可能较长。</p>\n</li>\n<li>\n<p><strong>应用场景</strong>：LS 算法适用于需要高精度、高可靠性的网络（如 OSPF 协议），DV 算法则适用于较小、简单的网络（如 RIP 协议）。</p>\n</li>\n</ul>\n<p>总结来说，LS 算法适合对全网有更高掌控需求的大型网络，DV 算法则更适合小型或中型网络中简单的路径选择需求。</p>\n<h1 id=\"分层路由hierarchical-routing\"><a class=\"anchor\" href=\"#分层路由hierarchical-routing\">#</a> <span class=\"label danger\">分层路由 (Hierarchical routing)</span></h1>\n<h2 id=\"1as\"><a class=\"anchor\" href=\"#1as\">#</a> <span class=\"exturl\" data-url=\"aHR0cDovLzEuQVM=\">1.AS</span> (autonomous systems)</h2>\n",
            "tags": [
                "计算机网络"
            ]
        },
        {
            "id": "http://example.com/2024/09/17/ue/hello-world/",
            "url": "http://example.com/2024/09/17/ue/hello-world/",
            "title": "Hello World",
            "date_published": "2024-09-17T04:09:35.616Z",
            "content_html": "<p>Welcome to <span class=\"exturl\" data-url=\"aHR0cHM6Ly9oZXhvLmlvLw==\">Hexo</span>! This is your very first post. Check <span class=\"exturl\" data-url=\"aHR0cHM6Ly9oZXhvLmlvL2RvY3Mv\">documentation</span> for more info. If you get any problems when using Hexo, you can find the answer in <span class=\"exturl\" data-url=\"aHR0cHM6Ly9oZXhvLmlvL2RvY3MvdHJvdWJsZXNob290aW5nLmh0bWw=\">troubleshooting</span> or you can ask me on <span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2hleG9qcy9oZXhvL2lzc3Vlcw==\">GitHub</span>.</p>\n<h2 id=\"quick-start\"><a class=\"anchor\" href=\"#quick-start\">#</a> Quick Start</h2>\n<h3 id=\"create-a-new-post\"><a class=\"anchor\" href=\"#create-a-new-post\">#</a> Create a new post</h3>\n<p><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo new <span class=\"string\">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure></p>\n<p>More info: <span class=\"exturl\" data-url=\"aHR0cHM6Ly9oZXhvLmlvL2RvY3Mvd3JpdGluZy5odG1s\">Writing</span></p>\n<h3 id=\"run-server\"><a class=\"anchor\" href=\"#run-server\">#</a> Run server</h3>\n<p><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo server</span><br></pre></td></tr></table></figure></p>\n<p>More info: <span class=\"exturl\" data-url=\"aHR0cHM6Ly9oZXhvLmlvL2RvY3Mvc2VydmVyLmh0bWw=\">Server</span></p>\n<h3 id=\"generate-static-files\"><a class=\"anchor\" href=\"#generate-static-files\">#</a> Generate static files</h3>\n<p><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo generate</span><br></pre></td></tr></table></figure></p>\n<p>More info: <span class=\"exturl\" data-url=\"aHR0cHM6Ly9oZXhvLmlvL2RvY3MvZ2VuZXJhdGluZy5odG1s\">Generating</span></p>\n<h3 id=\"deploy-to-remote-sites\"><a class=\"anchor\" href=\"#deploy-to-remote-sites\">#</a> Deploy to remote sites</h3>\n<p><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo deploy</span><br></pre></td></tr></table></figure></p>\n<p>More info: <span class=\"exturl\" data-url=\"aHR0cHM6Ly9oZXhvLmlvL2RvY3Mvb25lLWNvbW1hbmQtZGVwbG95bWVudC5odG1s\">Deployment</span></p>\n<p>I LOVE YOU</p>\n",
            "tags": [
                "ue"
            ]
        },
        {
            "id": "http://example.com/2024/09/17/temeplete/temeplete1/",
            "url": "http://example.com/2024/09/17/temeplete/temeplete1/",
            "title": "wwwww",
            "date_published": "2024-09-17T00:18:17.167Z",
            "content_html": "<p>wwqswdsadwq</p>\n",
            "tags": []
        },
        {
            "id": "http://example.com/2024/09/17/networks/hello-world/",
            "url": "http://example.com/2024/09/17/networks/hello-world/",
            "title": "Hello World",
            "date_published": "2024-09-16T15:34:21.998Z",
            "content_html": "<p>Welcome to <span class=\"exturl\" data-url=\"aHR0cHM6Ly9oZXhvLmlvLw==\">Hexo</span>! This is your very first post. Check <span class=\"exturl\" data-url=\"aHR0cHM6Ly9oZXhvLmlvL2RvY3Mv\">documentation</span> for more info. If you get any problems when using Hexo, you can find the answer in <span class=\"exturl\" data-url=\"aHR0cHM6Ly9oZXhvLmlvL2RvY3MvdHJvdWJsZXNob290aW5nLmh0bWw=\">troubleshooting</span> or you can ask me on <span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2hleG9qcy9oZXhvL2lzc3Vlcw==\">GitHub</span>.</p>\n<h2 id=\"quick-start\"><a class=\"anchor\" href=\"#quick-start\">#</a> Quick Start</h2>\n<h3 id=\"create-a-new-post\"><a class=\"anchor\" href=\"#create-a-new-post\">#</a> Create a new post</h3>\n<p><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo new <span class=\"string\">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure></p>\n<p>More info: <span class=\"exturl\" data-url=\"aHR0cHM6Ly9oZXhvLmlvL2RvY3Mvd3JpdGluZy5odG1s\">Writing</span></p>\n<h3 id=\"run-server\"><a class=\"anchor\" href=\"#run-server\">#</a> Run server</h3>\n<p><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo server</span><br></pre></td></tr></table></figure></p>\n<p>More info: <span class=\"exturl\" data-url=\"aHR0cHM6Ly9oZXhvLmlvL2RvY3Mvc2VydmVyLmh0bWw=\">Server</span></p>\n<h3 id=\"generate-static-files\"><a class=\"anchor\" href=\"#generate-static-files\">#</a> Generate static files</h3>\n<p><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo generate</span><br></pre></td></tr></table></figure></p>\n<p>More info: <span class=\"exturl\" data-url=\"aHR0cHM6Ly9oZXhvLmlvL2RvY3MvZ2VuZXJhdGluZy5odG1s\">Generating</span></p>\n<h3 id=\"deploy-to-remote-sites\"><a class=\"anchor\" href=\"#deploy-to-remote-sites\">#</a> Deploy to remote sites</h3>\n<p><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo deploy</span><br></pre></td></tr></table></figure></p>\n<p>More info: <span class=\"exturl\" data-url=\"aHR0cHM6Ly9oZXhvLmlvL2RvY3Mvb25lLWNvbW1hbmQtZGVwbG95bWVudC5odG1s\">Deployment</span></p>\n<p>I LOVE YOU</p>\n",
            "tags": [
                "计算机网络"
            ]
        },
        {
            "id": "http://example.com/2024/09/17/it-projectManage/hello-world/",
            "url": "http://example.com/2024/09/17/it-projectManage/hello-world/",
            "title": "Hello World",
            "date_published": "2024-09-16T14:15:39.413Z",
            "content_html": "<p>Welcome to <span class=\"exturl\" data-url=\"aHR0cHM6Ly9oZXhvLmlvLw==\">Hexo</span>! This is your very first post. Check <span class=\"exturl\" data-url=\"aHR0cHM6Ly9oZXhvLmlvL2RvY3Mv\">documentation</span> for more info. If you get any problems when using Hexo, you can find the answer in <span class=\"exturl\" data-url=\"aHR0cHM6Ly9oZXhvLmlvL2RvY3MvdHJvdWJsZXNob290aW5nLmh0bWw=\">troubleshooting</span> or you can ask me on <span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2hleG9qcy9oZXhvL2lzc3Vlcw==\">GitHub</span>.</p>\n<h2 id=\"quick-start\"><a class=\"anchor\" href=\"#quick-start\">#</a> Quick Start</h2>\n<h3 id=\"create-a-new-post\"><a class=\"anchor\" href=\"#create-a-new-post\">#</a> Create a new post</h3>\n<p><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo new <span class=\"string\">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure></p>\n<p>More info: <span class=\"exturl\" data-url=\"aHR0cHM6Ly9oZXhvLmlvL2RvY3Mvd3JpdGluZy5odG1s\">Writing</span></p>\n<h3 id=\"run-server\"><a class=\"anchor\" href=\"#run-server\">#</a> Run server</h3>\n<p><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo server</span><br></pre></td></tr></table></figure></p>\n<p>More info: <span class=\"exturl\" data-url=\"aHR0cHM6Ly9oZXhvLmlvL2RvY3Mvc2VydmVyLmh0bWw=\">Server</span></p>\n<h3 id=\"generate-static-files\"><a class=\"anchor\" href=\"#generate-static-files\">#</a> Generate static files</h3>\n<p><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo generate</span><br></pre></td></tr></table></figure></p>\n<p>More info: <span class=\"exturl\" data-url=\"aHR0cHM6Ly9oZXhvLmlvL2RvY3MvZ2VuZXJhdGluZy5odG1s\">Generating</span></p>\n<h3 id=\"deploy-to-remote-sites\"><a class=\"anchor\" href=\"#deploy-to-remote-sites\">#</a> Deploy to remote sites</h3>\n<p><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo deploy</span><br></pre></td></tr></table></figure></p>\n<p>More info: <span class=\"exturl\" data-url=\"aHR0cHM6Ly9oZXhvLmlvL2RvY3Mvb25lLWNvbW1hbmQtZGVwbG95bWVudC5odG1s\">Deployment</span></p>\n<p>I LOVE YOU</p>\n",
            "tags": [
                "IT项目管理"
            ]
        },
        {
            "id": "http://example.com/2024/09/16/database/learn-test/",
            "url": "http://example.com/2024/09/16/database/learn-test/",
            "title": "introduction",
            "date_published": "2024-09-16T13:03:36.000Z",
            "content_html": "<h1 id=\"简介\"><a class=\"anchor\" href=\"#简介\">#</a> 简介</h1>\n<p>此分类主要整理了悉尼大学 9120 数据库的知识，内容包含 E-R 图，RM 图，以及 postgresql 的内容。</p>\n",
            "tags": [
                "数据库"
            ]
        },
        {
            "id": "http://example.com/2024/09/16/database/lec_4%20%E5%85%B3%E7%B3%BB%E4%BB%A3%E6%95%B0%E4%B8%8Esql/",
            "url": "http://example.com/2024/09/16/database/lec_4%20%E5%85%B3%E7%B3%BB%E4%BB%A3%E6%95%B0%E4%B8%8Esql/",
            "title": "lec_4 关系代数与sql",
            "date_published": "2024-09-16T13:03:36.000Z",
            "content_html": "<h1 id=\"关系代数与sql\"><a class=\"anchor\" href=\"#关系代数与sql\">#</a> 关系代数与 sql</h1>\n<h2 id=\"关系代数\"><a class=\"anchor\" href=\"#关系代数\">#</a> <span class=\"label danger\">关系代数</span></h2>\n<ol>\n<li>关系代数简介</li>\n</ol>\n<ul>\n<li><strong>关系代数（Relational Algebra, RA）</strong> 是针对关系模型的操作语言。</li>\n<li>关系代数由一组操作符组成，可以对关系（表）执行操作，描述如何一步一步计算出所需结果。</li>\n<li>关系代数是命令式的，描述了查询的过程，而不是结果的约束。</li>\n</ul>\n<ol start=\"2\">\n<li>关系代数基本操作符</li>\n</ol>\n<ul>\n<li>\n<p><strong>选择 (Selection, σ)</strong>：</p>\n<ul>\n<li>选择操作从一个关系（表）中挑选出符合某个条件的元组（行）。</li>\n<li>形式：σ_condition (R)</li>\n<li>示例：σ_country='AUS'(Student) 会返回所有国家为 “澳大利亚” 的学生。</li>\n</ul>\n</li>\n<li>\n<p><strong>投影 (Projection, π)</strong>：</p>\n<ul>\n<li>投影操作从一个关系中选择特定的属性（列），并删除重复的元组。</li>\n<li>形式：π_attributes (R)</li>\n<li>示例：π_name, country (Student) 返回学生表中的姓名和国家列，去除重复值。</li>\n</ul>\n</li>\n<li>\n<p><strong>笛卡尔积 (Cross Product, ×)</strong>：</p>\n<ul>\n<li>笛卡尔积操作将两个关系的所有元组进行组合，形成新的关系，结果的每一行都是两个关系中元组的所有可能组合。比如学生表有 2 条数据，老师表有 3 条数据，组成的新表就有 6 条数据。</li>\n<li>形式：R × S</li>\n<li>示例：Student × Enrolled 将两个表中的每一个元组组合在一起。</li>\n</ul>\n</li>\n<li>\n<p><strong>联合 (Union, ∪)</strong>：</p>\n<ul>\n<li>联合操作返回两个关系中的所有元组，自动去除重复的行。</li>\n<li>形式：R ∪ S</li>\n<li>示例：π_sid (Student) ∪ π_sid (Enrolled) 返回在学生和选课表中出现的所有学生 ID。</li>\n</ul>\n</li>\n<li>\n<p><strong>交集 (Intersection, ∩)</strong>：</p>\n<ul>\n<li>交集操作返回在两个关系中都存在的元组。</li>\n<li>形式：R ∩ S</li>\n<li>示例：π_sid (Student) ∩ π_sid (Enrolled) 返回同时出现在学生表和选课表中的学生 ID。</li>\n</ul>\n</li>\n<li>\n<p><strong>差集 (Difference, −)</strong>：</p>\n<ul>\n<li>差集操作返回在第一个关系中存在但在第二个关系中不存在的元组。</li>\n<li>形式：R − S</li>\n<li>示例：π_sid (Student) − π_sid (Enrolled) 返回只在学生表中存在而没有选课的学生 ID。</li>\n</ul>\n</li>\n</ul>\n<ol start=\"2\">\n<li>连接操作</li>\n</ol>\n<h2 id=\"连接操作\"><a class=\"anchor\" href=\"#连接操作\">#</a> <span class=\"label danger\">连接操作</span></h2>\n<ol>\n<li><strong>条件连接 (Theta Join, ⋈ₛ)</strong></li>\n</ol>\n<ul>\n<li>\n<p><strong>定义</strong>：条件连接是基于给定的条件，将两个关系的笛卡尔积中的行进行筛选。该条件可以是任意的布尔表达式（例如  <code>=</code> 、 <code>&gt;</code> 、 <code>&lt;</code>  等比较操作符）。</p>\n</li>\n<li>\n<p><strong>形式</strong>： <code>R ⋈ₛ S</code> ，其中  <code>ₛ</code>  是连接条件。</p>\n</li>\n<li>\n<p><strong>示例</strong>：假设有两个表  <code>Student</code>  和  <code>Enrolled</code> ，我们希望查找学生和他们所选的课程：</p>\n<ul>\n<li>表  <code>Student</code> :</li>\n</ul>\n</li>\n</ul>\n<table>\n<thead>\n<tr>\n<th>sid</th>\n<th>name</th>\n<th>country</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1001</td>\n<td>lan</td>\n<td>AUS</td>\n</tr>\n<tr>\n<td>1002</td>\n<td>Ha</td>\n<td>ROK</td>\n</tr>\n</tbody>\n</table>\n<pre><code>- 表 `Enrolled`:\n</code></pre>\n<table>\n<thead>\n<tr>\n<th>sid</th>\n<th>uos_code</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1001</td>\n<td>COMP5318</td>\n</tr>\n<tr>\n<td>1002</td>\n<td>COMP5318</td>\n</tr>\n</tbody>\n</table>\n<pre><code>查询学生与他们所选课程，可以使用 `sid` 作为连接条件：\n\n- `Student ⋈_&#123;Student.sid = Enrolled.sid&#125; Enrolled`:\n</code></pre>\n<table>\n<thead>\n<tr>\n<th>sid</th>\n<th>name</th>\n<th>country</th>\n<th>uos_code</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1001</td>\n<td>lan</td>\n<td>AUS</td>\n<td>COMP5318</td>\n</tr>\n<tr>\n<td>1002</td>\n<td>Ha</td>\n<td>ROK</td>\n<td>COMP5318</td>\n</tr>\n</tbody>\n</table>\n<ul>\n<li>通过这个操作，我们得到了两个表中  <code>sid</code>  匹配的行。</li>\n</ul>\n<ol start=\"2\">\n<li><strong>自然连接 (Natural Join, ⋈)</strong></li>\n</ol>\n<ul>\n<li>\n<p><strong>定义</strong>：自然连接是一种特殊的等值连接，它自动基于两个关系中<strong>具有相同名称</strong>且<strong>值相等</strong>的属性进行连接，且在结果中只保留一个重复的属性列。</p>\n</li>\n<li>\n<p><strong>形式</strong>： <code>R ⋈ S</code> ，连接条件是所有同名属性相等。</p>\n</li>\n<li>\n<p><strong>示例</strong>：考虑前面的  <code>Student</code>  和  <code>Enrolled</code>  表，假设我们要进行自然连接：</p>\n<ul>\n<li><code>Student ⋈ Enrolled</code> :</li>\n</ul>\n</li>\n</ul>\n<table>\n<thead>\n<tr>\n<th>sid</th>\n<th>name</th>\n<th>country</th>\n<th>uos_code</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1001</td>\n<td>lan</td>\n<td>AUS</td>\n<td>COMP5318</td>\n</tr>\n<tr>\n<td>1002</td>\n<td>Ha</td>\n<td>ROK</td>\n<td>COMP5318</td>\n</tr>\n</tbody>\n</table>\n<ul>\n<li>在自然连接中， <code>sid</code>  是两个表中共有的属性，连接后只保留一列  <code>sid</code> 。</li>\n</ul>\n<ol start=\"3\">\n<li><strong>等值连接 (Equi-Join)</strong></li>\n</ol>\n<ul>\n<li><strong>定义</strong>：等值连接是条件连接的一种特例，连接条件只包含相等比较（ <code>=</code> ）。</li>\n<li><strong>形式</strong>： <code>R ⋈_&#123;A = B&#125; S</code> ，其中  <code>A</code>  和  <code>B</code>  是两个表中的属性。</li>\n<li><strong>与自然连接的区别</strong>：等值连接会保留连接条件中的重复属性，而自然连接则去掉重复列。</li>\n<li><strong>示例</strong>： <code>Student ⋈_&#123;Student.sid = Enrolled.sid&#125; Enrolled</code> ，结果中会保留两个  <code>sid</code>  列。</li>\n</ul>\n<ol start=\"4\">\n<li><strong>外连接 (Outer Join)</strong></li>\n</ol>\n<p>外连接允许在结果中包含没有匹配行的元组，并填充相应部分为  <code>NULL</code> 。</p>\n<ul>\n<li>\n<p><strong>左外连接 (Left Outer Join)</strong>：返回左表中的所有元组，即使右表中没有匹配的行。</p>\n<ul>\n<li><strong>形式</strong>： <code>R LEFT OUTER JOIN S</code> 。</li>\n<li><strong>示例</strong>： <code>Student LEFT OUTER JOIN Enrolled</code>  会返回学生表中的所有行，即使有些学生没有选课，未匹配的部分用  <code>NULL</code>  填充：</li>\n</ul>\n</li>\n</ul>\n<table>\n<thead>\n<tr>\n<th>sid</th>\n<th>name</th>\n<th>country</th>\n<th>uos_code</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1001</td>\n<td>lan</td>\n<td>AUS</td>\n<td>COMP5318</td>\n</tr>\n<tr>\n<td>1002</td>\n<td>HA</td>\n<td>ROK</td>\n<td>COMP5318</td>\n</tr>\n<tr>\n<td>1003</td>\n<td>Grant</td>\n<td>AUS</td>\n<td>NULL</td>\n</tr>\n</tbody>\n</table>\n<ul>\n<li>\n<p><strong>右外连接 (Right Outer Join)</strong>：返回右表中的所有元组，即使左表中没有匹配的行。</p>\n<ul>\n<li><strong>形式</strong>： <code>R RIGHT OUTER JOIN S</code> 。</li>\n</ul>\n</li>\n<li>\n<p><strong>全外连接 (Full Outer Join)</strong>：返回两个表中的所有元组，包括没有匹配的行，并将未匹配的部分用  <code>NULL</code>  填充。</p>\n<ul>\n<li><strong>形式</strong>： <code>R FULL OUTER JOIN S</code> 。</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"sql简介\"><a class=\"anchor\" href=\"#sql简介\">#</a> <span class=\"label danger\">SQL 简介</span></h2>\n<p>在 SQL 中，集合操作用于对两个查询结果集进行运算，类似于关系代数中的集合运算。常见的 SQL 集合操作包括  <code>UNION</code> 、 <code>INTERSECT</code>  和  <code>EXCEPT</code> 。这些操作用于合并、比较两个查询的结果集，并遵循集合的基本规则，如去除重复数据。每个操作都需要两个结果集具有<strong>相同数量的列</strong>，且相应列的数据类型必须兼容。</p>\n<h3 id=\"1-union并集\"><a class=\"anchor\" href=\"#1-union并集\">#</a> 1. <strong>UNION</strong>（并集）</h3>\n<p><code>UNION</code>  操作返回两个查询结果的并集，也就是说，它会包含两个结果集中所有的行，且自动去除重复的行。</p>\n<ul>\n<li>\n<p><strong>语法</strong>：<br>\n<figure class=\"highlight sql\"><figcaption><span>row</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">SELECT</span> 列<span class=\"number\">1</span>, 列<span class=\"number\">2</span>, ...</span><br><span class=\"line\"><span class=\"keyword\">FROM</span> 表<span class=\"number\">1</span></span><br><span class=\"line\"><span class=\"keyword\">UNION</span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span> 列<span class=\"number\">1</span>, 列<span class=\"number\">2</span>, ...</span><br><span class=\"line\"><span class=\"keyword\">FROM</span> 表<span class=\"number\">2</span>;</span><br></pre></td></tr></table></figure></p>\n</li>\n<li>\n<p><strong>示例</strong>：<br>\n<figure class=\"highlight sql\"><figcaption><span>row</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">SELECT</span> name <span class=\"keyword\">FROM</span> Students</span><br><span class=\"line\"><span class=\"keyword\">UNION</span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span> name <span class=\"keyword\">FROM</span> Teachers;</span><br></pre></td></tr></table></figure></p>\n</li>\n<li>\n<p>该查询将返回  <code>Students</code>  表和  <code>Teachers</code>  表中的所有不同的名字（去重）。</p>\n</li>\n<li>\n<p><strong>特点</strong>：</p>\n<ul>\n<li>自动去除重复行。</li>\n<li>可以使用  <code>UNION ALL</code>  来保留重复行。</li>\n</ul>\n<p><strong>示例</strong>：<br>\n<figure class=\"highlight sql\"><figcaption><span>row</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">SELECT</span> name <span class=\"keyword\">FROM</span> Students</span><br><span class=\"line\"><span class=\"keyword\">UNION</span> <span class=\"keyword\">ALL</span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span> name <span class=\"keyword\">FROM</span> Teachers;</span><br></pre></td></tr></table></figure></p>\n</li>\n</ul>\n<p><code>UNION ALL</code>  将返回所有行，包括重复的行。</p>\n<h3 id=\"2-intersect交集\"><a class=\"anchor\" href=\"#2-intersect交集\">#</a> 2. **INTERSECT（** 交集）</h3>\n<p><code>INTERSECT</code>  操作返回两个查询结果的交集，即只返回在两个查询结果中都存在的行。</p>\n<ul>\n<li>\n<p><strong>语法</strong>：<br>\n<figure class=\"highlight sql\"><figcaption><span>row</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">SELECT</span> 列<span class=\"number\">1</span>, 列<span class=\"number\">2</span>, ...</span><br><span class=\"line\"><span class=\"keyword\">FROM</span> 表<span class=\"number\">1</span></span><br><span class=\"line\"><span class=\"keyword\">INTERSECT</span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span> 列<span class=\"number\">1</span>, 列<span class=\"number\">2</span>, ...</span><br><span class=\"line\"><span class=\"keyword\">FROM</span> 表<span class=\"number\">2</span>;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure></p>\n</li>\n<li>\n<p>示例<br>\n <figure class=\"highlight sql\"><figcaption><span>row</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">SELECT</span> name <span class=\"keyword\">FROM</span> Students</span><br><span class=\"line\"><span class=\"keyword\">INTERSECT</span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span> name <span class=\"keyword\">FROM</span> Teachers;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure></p>\n</li>\n<li>\n<p>该查询将返回既是  <code>Students</code>  表又是  <code>Teachers</code>  表中的名字（即两个表中都存在的名字）。</p>\n</li>\n<li>\n<p><strong>特点</strong>：</p>\n<ul>\n<li>只返回两个结果集中都出现的行。</li>\n<li>自动去除重复行。</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"3-except差集\"><a class=\"anchor\" href=\"#3-except差集\">#</a> 3. <strong>EXCEPT</strong>（差集）</h3>\n<p><code>EXCEPT</code>  操作返回在第一个查询结果中存在但在第二个查询结果中不存在的行。</p>\n<ul>\n<li>\n<p><strong>语法</strong>：<br>\n<figure class=\"highlight sql\"><figcaption><span>row</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">SELECT</span> 列<span class=\"number\">1</span>, 列<span class=\"number\">2</span>, ...</span><br><span class=\"line\"><span class=\"keyword\">FROM</span> 表<span class=\"number\">1</span></span><br><span class=\"line\"><span class=\"keyword\">EXCEPT</span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span> 列<span class=\"number\">1</span>, 列<span class=\"number\">2</span>, ...</span><br><span class=\"line\"><span class=\"keyword\">FROM</span> 表<span class=\"number\">2</span>;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure></p>\n</li>\n<li>\n<p>示例<br>\n <figure class=\"highlight sql\"><figcaption><span>row</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">SELECT</span> name <span class=\"keyword\">FROM</span> Students</span><br><span class=\"line\"><span class=\"keyword\">EXCEPT</span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span> name <span class=\"keyword\">FROM</span> Teachers;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure></p>\n</li>\n<li>\n<p>该查询将返回所有只存在于  <code>Students</code>  表中但不在  <code>Teachers</code>  表中的名字。</p>\n</li>\n<li>\n<p><strong>特点</strong>：</p>\n<ul>\n<li>返回只出现在第一个结果集中的行。</li>\n<li>自动去除重复行。</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"4-union-intersect-和-except-的规则\"><a class=\"anchor\" href=\"#4-union-intersect-和-except-的规则\">#</a> 4. <strong>UNION、INTERSECT 和 EXCEPT 的规则</strong>：</h3>\n<ul>\n<li><strong>列数必须相同</strong>：在两个查询中， <code>SELECT</code>  子句中的列数量必须一致。</li>\n<li><strong>数据类型必须兼容</strong>：相应列的数据类型必须相同或兼容。</li>\n<li><strong>去除重复行</strong>：默认情况下， <code>UNION</code> 、 <code>INTERSECT</code>  和  <code>EXCEPT</code>  都会去除重复的行。</li>\n<li><strong>使用 ALL 保留重复行</strong>：如果希望保留重复行，可以使用  <code>UNION ALL</code> ，但  <code>INTERSECT ALL</code>  和  <code>EXCEPT ALL</code>  在部分 SQL 实现中并不支持。</li>\n</ul>\n<h3 id=\"总结\"><a class=\"anchor\" href=\"#总结\">#</a> 总结：</h3>\n<ul>\n<li><strong> <code>UNION</code> </strong> 返回两个查询结果集的并集，去除重复行。</li>\n<li><strong> <code>INTERSECT</code> </strong> 返回两个查询结果集的交集，即共同存在的行。</li>\n<li><strong> <code>EXCEPT</code> </strong> 返回第一个结果集中有但第二个结果集中没有的行。</li>\n</ul>\n",
            "tags": [
                "数据库"
            ]
        },
        {
            "id": "http://example.com/2024/09/16/database/lec_5%20%E6%95%B0%E6%8D%AE%E5%BA%93%E7%BA%A6%E6%9D%9F/",
            "url": "http://example.com/2024/09/16/database/lec_5%20%E6%95%B0%E6%8D%AE%E5%BA%93%E7%BA%A6%E6%9D%9F/",
            "title": "lec_5 数据库约束",
            "date_published": "2024-09-16T13:03:36.000Z",
            "content_html": "<h1 id=\"数据库约束database-constriants\"><a class=\"anchor\" href=\"#数据库约束database-constriants\">#</a> 数据库约束（Database constriants）</h1>\n<h2 id=\"完整性约束-intergral-constraint\"><a class=\"anchor\" href=\"#完整性约束-intergral-constraint\">#</a> 完整性约束 (Intergral constraint)</h2>\n<ol>\n<li>概要</li>\n</ol>\n<ul>\n<li>完整性约束指定：完整性约束是在数据库架构设计（schema design）过程中被定义的。数据库设计者负责确保定义的完整性约束之间不会互相冲突。</li>\n<li>⾃动化检测：虽然检测完整性约束的过程可以⾃动化，但这可能会引⼊不可接受的性能开销。</li>\n<li>完整性约束检查：完整性约束在数据库被修改时进⾏检查。可以指定检查完整性约束的时机，⽐如在⼀个 SQL 语句执⾏后或⼀个事务（transaction）结束时。\n<ul>\n<li>事务：⼀个事务是⼀组 SQL 语句，它们作为⼀个单⼀的、不可分割的操作执⾏，这个概念也被称为原⼦性（atomicity）。</li>\n</ul>\n</li>\n<li>违反完整性约束的反应：幻灯⽚还提到了如果违反了完整性约束，可以采取的⼏种响应措施：\n<ol>\n<li>拒绝数据库操作：不执⾏违反完整性约束的操作。</li>\n<li>中⽌整个事务：如果事务中的任何部分违反了完整性约束，就回滚（rollback）事务中的所有操作。</li>\n<li>执⾏ “维护” 操作：如果完整性约束被违反，执⾏必要的操作以恢复数据库到合法状态。</li>\n</ol>\n</li>\n</ul>\n<hr>\n<h2 id=\"事务transaction\"><a class=\"anchor\" href=\"#事务transaction\">#</a> 事务（Transaction）</h2>\n<h3 id=\"事务的关键特性-acid\"><a class=\"anchor\" href=\"#事务的关键特性-acid\">#</a> 事务的关键特性 (ACID)：</h3>\n<p>ACID 是事务的四个关键属性，分别是<strong>原子性 (Atomicity)</strong>、<strong>一致性 (Consistency)</strong>、<strong>隔离性 (Isolation)</strong> 和<strong>持久性 (Durability)</strong>。</p>\n<h4 id=\"1-原子性-atomicity\"><a class=\"anchor\" href=\"#1-原子性-atomicity\">#</a> 1. <strong>原子性 (Atomicity)</strong>：</h4>\n<ul>\n<li><strong>定义</strong>：事务中的所有操作要么全部执行成功，要么全部失败回滚。事务不能部分执行。</li>\n<li><strong>示例</strong>：假设你进行一个银行转账操作，转账事务包含两个步骤：从账户 A 扣钱，从账户 B 加钱。原子性确保如果其中一个步骤失败，整个转账操作会被回滚，避免账户 A 扣钱但账户 B 没有加钱的情况。</li>\n</ul>\n<h4 id=\"2-一致性-consistency\"><a class=\"anchor\" href=\"#2-一致性-consistency\">#</a> 2. <strong>一致性 (Consistency)</strong>：</h4>\n<ul>\n<li><strong>定义</strong>：事务执行前后，数据库必须保持一致性状态，确保数据库从一个合法的状态转换到另一个合法的状态。</li>\n<li><strong>示例</strong>：在银行转账的例子中，一致性确保无论事务成功或失败，账户 A 和账户 B 的总金额不会因为转账事务而改变。</li>\n</ul>\n<h4 id=\"3-隔离性-isolation\"><a class=\"anchor\" href=\"#3-隔离性-isolation\">#</a> 3. <strong>隔离性 (Isolation)</strong>：</h4>\n<ul>\n<li><strong>定义</strong>：多个事务同时执行时，一个事务的中间状态对其他事务是不可见的。隔离性保证并发事务之间互不干扰，避免数据不一致。</li>\n<li><strong>示例</strong>：如果两个用户同时从一个账户中取钱，隔离性保证每个用户在取钱时不会看到对方的操作结果，以避免超取。</li>\n</ul>\n<p>SQL 中有四种常见的事务隔离级别，分别是：</p>\n<ul>\n<li><strong>Read Uncommitted</strong>：允许读取其他未提交事务的数据，可能导致脏读（Dirty Read）。</li>\n<li><strong>Read Committed</strong>：只能读取其他事务已提交的数据，避免脏读。</li>\n<li><strong>Repeatable Read</strong>：确保同一个事务在读取数据时，数据在整个事务过程中不会被修改，避免不可重复读。</li>\n<li><strong>Serializable</strong>：事务被严格隔离，避免所有并发事务问题，通常开销较大。</li>\n</ul>\n<h4 id=\"4-持久性-durability\"><a class=\"anchor\" href=\"#4-持久性-durability\">#</a> 4. <strong>持久性 (Durability)</strong>：</h4>\n<ul>\n<li><strong>定义</strong>：一旦事务提交成功，其对数据库的修改就是永久性的，系统即使发生崩溃，也不会丢失已提交的事务结果。</li>\n<li><strong>示例</strong>：在银行转账完成并提交后，即使服务器崩溃，转账的记录仍然会保存在数据库中，不会丢失。</li>\n</ul>\n<hr>\n<h3 id=\"事务的生命周期\"><a class=\"anchor\" href=\"#事务的生命周期\">#</a> 事务的生命周期：</h3>\n<p>事务通常包括以下几个阶段：</p>\n<ol>\n<li>\n<p><strong>开始 (Begin)</strong>：</p>\n<ul>\n<li>通过  <code>BEGIN</code>  语句显式开始一个事务。</li>\n<li>也可以隐式开始（比如直接执行  <code>INSERT</code>  等操作）。</li>\n</ul>\n</li>\n<li>\n<p><strong>执行操作 (Perform Operations)</strong>：</p>\n<ul>\n<li>事务包含一组操作，如插入、更新、删除等 SQL 语句。</li>\n</ul>\n</li>\n<li>\n<p><strong>提交 (Commit)</strong>：</p>\n<ul>\n<li><code>COMMIT</code>  语句将事务的所有操作永久写入数据库。</li>\n<li>一旦提交，事务的更改就无法回滚。</li>\n</ul>\n</li>\n<li>\n<p><strong>回滚 (Rollback)</strong>：</p>\n<ul>\n<li>如果事务中的某个操作失败，或者用户手动调用  <code>ROLLBACK</code> ，事务将被回滚，所有对数据库的修改将被撤销。</li>\n</ul>\n</li>\n</ol>\n<p>示例：一个简单的事务<br>\n以下是一个 SQL 中事务的基本示例，涉及对数据库的修改和回滚：<br>\n<figure class=\"highlight sql\"><figcaption><span>row</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">BEGIN</span>;  <span class=\"comment\">-- 开始事务</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- 插入一条记录</span></span><br><span class=\"line\"><span class=\"keyword\">INSERT</span> <span class=\"keyword\">INTO</span> accounts (account_id, balance) <span class=\"keyword\">VALUES</span> (<span class=\"number\">1</span>, <span class=\"number\">1000</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- 更新账户余额</span></span><br><span class=\"line\"><span class=\"keyword\">UPDATE</span> accounts <span class=\"keyword\">SET</span> balance <span class=\"operator\">=</span> balance <span class=\"operator\">-</span> <span class=\"number\">200</span> <span class=\"keyword\">WHERE</span> account_id <span class=\"operator\">=</span> <span class=\"number\">1</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- 提交事务</span></span><br><span class=\"line\"><span class=\"keyword\">COMMIT</span>;</span><br></pre></td></tr></table></figure></p>\n<p>在这个事务中，我们首先插入一个新账户，并将账户余额减少了 200。如果在任何步骤中发生错误（如账户不存在或余额不足），我们可以使用  <code>ROLLBACK</code>  撤销事务的所有操作。<br>\n<figure class=\"highlight sql\"><figcaption><span>row</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">BEGIN</span>;  <span class=\"comment\">-- 开始事务</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- 执行一些操作</span></span><br><span class=\"line\"><span class=\"keyword\">INSERT</span> <span class=\"keyword\">INTO</span> accounts (account_id, balance) <span class=\"keyword\">VALUES</span> (<span class=\"number\">1</span>, <span class=\"number\">1000</span>);</span><br><span class=\"line\"><span class=\"keyword\">UPDATE</span> accounts <span class=\"keyword\">SET</span> balance <span class=\"operator\">=</span> balance <span class=\"operator\">-</span> <span class=\"number\">200</span> <span class=\"keyword\">WHERE</span> account_id <span class=\"operator\">=</span> <span class=\"number\">1</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- 如果某个操作失败，则回滚事务</span></span><br><span class=\"line\"><span class=\"keyword\">ROLLBACK</span>;</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"常见的事务问题\"><a class=\"anchor\" href=\"#常见的事务问题\">#</a> 常见的事务问题：</h3>\n<p>由于事务在并发情况下会相互影响，以下是一些常见的并发问题：</p>\n<ol>\n<li>\n<p><strong>脏读 (Dirty Read)</strong>：</p>\n<ul>\n<li>一个事务读取了另一个尚未提交的事务修改的数据，可能会导致数据不一致。</li>\n</ul>\n</li>\n<li>\n<p><strong>不可重复读 (Non-repeatable Read)</strong>：</p>\n<ul>\n<li>一个事务在多次读取同一数据时，数据可能已经被另一个事务修改，导致读取到不同的结果。</li>\n</ul>\n</li>\n<li>\n<p><strong>幻读 (Phantom Read)</strong>：</p>\n<ul>\n<li>一个事务在多次查询时，发现另一个事务插入了新数据，导致每次查询的结果集不同。</li>\n</ul>\n</li>\n</ol>\n<p>通过设置适当的隔离级别，可以避免这些并发问题。</p>\n<hr>\n<h2 id=\"静态完整性约束-static-integrity-constraints\"><a class=\"anchor\" href=\"#静态完整性约束-static-integrity-constraints\">#</a> 静态完整性约束 (Static Integrity Constraints)</h2>\n<p>静态完整性约束是指对数据库在某一时刻的状态进行限制，确保每个时刻的数据都是合法的、符合规则的。它们定义了每个合法的数据库状态必须满足的条件。如果数据库状态违反了这些约束，则被视为非法操作。以下是主要的静态完整性约束类型。</p>\n<h3 id=\"1-域约束-domain-constraints\"><a class=\"anchor\" href=\"#1-域约束-domain-constraints\">#</a> 1. 域约束 (Domain Constraints)</h3>\n<p><strong>域约束</strong>确保每个列的值符合预定义的数据类型和范围。例如，一个人的年龄应该是正整数，不能为负值或超出合理范围。</p>\n<p>示例：<br>\n<figure class=\"highlight sql\"><figcaption><span>row</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">CREATE</span> <span class=\"keyword\">TABLE</span> Student (</span><br><span class=\"line\">    student_id <span class=\"type\">INTEGER</span> <span class=\"keyword\">NOT</span> <span class=\"keyword\">NULL</span>,</span><br><span class=\"line\">    name <span class=\"type\">VARCHAR</span>(<span class=\"number\">50</span>),</span><br><span class=\"line\">    age <span class=\"type\">INTEGER</span> <span class=\"keyword\">CHECK</span> (age <span class=\"operator\">&gt;=</span> <span class=\"number\">0</span>)</span><br><span class=\"line\">);</span><br></pre></td></tr></table></figure></p>\n<p>在此表中， <code>age</code>  列通过  <code>CHECK</code>  约束，确保所有插入的值都必须为非负整数。</p>\n<h3 id=\"2-键约束-key-constraints\"><a class=\"anchor\" href=\"#2-键约束-key-constraints\">#</a> 2. 键约束 (Key Constraints)</h3>\n<p>键约束确保数据库中某些列的值在表内是唯一的，用来唯一标识记录。主要包括以下几种：</p>\n<h4 id=\"21-主键约束-primary-key-constraint\"><a class=\"anchor\" href=\"#21-主键约束-primary-key-constraint\">#</a> 2.1 主键约束 (Primary Key Constraint)</h4>\n<p><strong>主键 (Primary Key)</strong> 是数据库中用于唯一标识表中每一行的列（或列的组合）。主键的值不能重复，也不能为空 ( <code>NULL</code> )。</p>\n<p>示例：<br>\n<figure class=\"highlight sql\"><figcaption><span>row</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">CREATE</span> <span class=\"keyword\">TABLE</span> Student (</span><br><span class=\"line\">    student_id <span class=\"type\">INTEGER</span> <span class=\"keyword\">PRIMARY</span> KEY,</span><br><span class=\"line\">    name <span class=\"type\">VARCHAR</span>(<span class=\"number\">50</span>),</span><br><span class=\"line\">    age <span class=\"type\">INTEGER</span></span><br><span class=\"line\">);</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure></p>\n<p>在此示例中， <code>student_id</code>  是主键，保证每个学生都有唯一的  <code>student_id</code> 。</p>\n<h4 id=\"22-唯一约束-unique-constraint\"><a class=\"anchor\" href=\"#22-唯一约束-unique-constraint\">#</a> 2.2 唯一约束 (Unique Constraint)</h4>\n<p><strong>唯一约束 (Unique)</strong> 确保列中的所有值都是唯一的，但允许  <code>NULL</code>  值。与主键不同，一个表可以有多个唯一约束。</p>\n<p>示例：</p>\n<p><figure class=\"highlight sql\"><figcaption><span>row</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">CREATE</span> <span class=\"keyword\">TABLE</span> Student (</span><br><span class=\"line\">    student_id <span class=\"type\">INTEGER</span> <span class=\"keyword\">PRIMARY</span> KEY,</span><br><span class=\"line\">    email <span class=\"type\">VARCHAR</span>(<span class=\"number\">100</span>) <span class=\"keyword\">UNIQUE</span></span><br><span class=\"line\">);</span><br></pre></td></tr></table></figure></p>\n<p>此示例中， <code>email</code>  列上的唯一约束确保每个学生的电子邮件地址都是唯一的。</p>\n<h3 id=\"3-外键约束-foreign-key-constraints\"><a class=\"anchor\" href=\"#3-外键约束-foreign-key-constraints\">#</a> 3. 外键约束 (Foreign Key Constraints)</h3>\n<p><strong>外键约束 (Foreign Key)</strong> 用于确保两个表之间的参照完整性。它保证一个表中的值必须在另一个表中存在。</p>\n<p>示例：<br>\n<figure class=\"highlight sql\"><figcaption><span>row</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">CREATE</span> <span class=\"keyword\">TABLE</span> Student (</span><br><span class=\"line\">    student_id <span class=\"type\">INTEGER</span> <span class=\"keyword\">PRIMARY</span> KEY,</span><br><span class=\"line\">    name <span class=\"type\">VARCHAR</span>(<span class=\"number\">50</span>)</span><br><span class=\"line\">);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">CREATE</span> <span class=\"keyword\">TABLE</span> Enrollment (</span><br><span class=\"line\">    enrollment_id <span class=\"type\">INTEGER</span> <span class=\"keyword\">PRIMARY</span> KEY,</span><br><span class=\"line\">    student_id <span class=\"type\">INTEGER</span>,</span><br><span class=\"line\">    <span class=\"keyword\">FOREIGN</span> KEY (student_id) <span class=\"keyword\">REFERENCES</span> Student(student_id)</span><br><span class=\"line\">);</span><br></pre></td></tr></table></figure><br>\n 在此示例中， <code>Enrollment</code>  表中的  <code>student_id</code>  是一个外键，引用  <code>Student</code>  表中的  <code>student_id</code> 。这确保了每个注册记录中的  <code>student_id</code>  都必须存在于  <code>Student</code>  表中。</p>\n<h3 id=\"4-检查约束-check-constraints\"><a class=\"anchor\" href=\"#4-检查约束-check-constraints\">#</a> 4. 检查约束 (Check Constraints)</h3>\n<p><strong>检查约束 (Check)</strong> 用于指定列的值必须满足的条件。它们提供了一种强制执行复杂条件的机制。</p>\n<p>示例：<br>\n<figure class=\"highlight sql\"><figcaption><span>row</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">CREATE</span> <span class=\"keyword\">TABLE</span> Student (</span><br><span class=\"line\">    student_id <span class=\"type\">INTEGER</span> <span class=\"keyword\">PRIMARY</span> KEY,</span><br><span class=\"line\">    name <span class=\"type\">VARCHAR</span>(<span class=\"number\">50</span>),</span><br><span class=\"line\">    age <span class=\"type\">INTEGER</span> <span class=\"keyword\">CHECK</span> (age <span class=\"operator\">&gt;=</span> <span class=\"number\">18</span>)</span><br><span class=\"line\">);</span><br></pre></td></tr></table></figure></p>\n<p>此示例中， <code>age</code>  列的值必须大于等于 18，确保插入的学生必须年满 18 岁。</p>\n<h3 id=\"5-语义约束-semantic-integrity-constraints\"><a class=\"anchor\" href=\"#5-语义约束-semantic-integrity-constraints\">#</a> 5. 语义约束 (Semantic Integrity Constraints)</h3>\n<p><strong>语义约束 (Semantic Constraints)</strong> 是对数据逻辑含义的约束，确保数据的有效性和一致性。它们通常涉及特定领域的业务逻辑规则。</p>\n<p>示例：<br>\n<figure class=\"highlight sql\"><figcaption><span>row</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">CREATE</span> <span class=\"keyword\">TABLE</span> Employee (</span><br><span class=\"line\">    emp_id <span class=\"type\">INTEGER</span> <span class=\"keyword\">PRIMARY</span> KEY,</span><br><span class=\"line\">    name <span class=\"type\">VARCHAR</span>(<span class=\"number\">100</span>),</span><br><span class=\"line\">    hire_date <span class=\"type\">DATE</span>,</span><br><span class=\"line\">    birth_date <span class=\"type\">DATE</span>,</span><br><span class=\"line\">    <span class=\"keyword\">CHECK</span> (hire_date <span class=\"operator\">&gt;</span> birth_date)</span><br><span class=\"line\">);</span><br></pre></td></tr></table></figure></p>\n<p>在这个例子中， <code>hire_date</code>  必须晚于  <code>birth_date</code> ，确保员工的入职日期必须在他们的出生日期之后。</p>\n<hr>\n<h2 id=\"动态完整性约束dynamic-integrity-constraints\"><a class=\"anchor\" href=\"#动态完整性约束dynamic-integrity-constraints\">#</a> 动态完整性约束（Dynamic Integrity Constraints）</h2>\n<p>动态完整性约束的目标是在数据发生变化时确保其合法性。这类约束在数据库的插入、更新、删除等操作后执行，以确保数据的完整性。它们常用于以下场景：</p>\n<ul>\n<li>维护复杂的业务规则</li>\n<li>确保数据的有效性</li>\n<li>在特定事件发生时，自动执行相应的操作</li>\n</ul>\n<h3 id=\"1-触发器triggers\"><a class=\"anchor\" href=\"#1-触发器triggers\">#</a> 1. 触发器（Triggers）</h3>\n<p>触发器是数据库中的一种机制，它可以在某些事件发生时（例如插入、更新或删除数据时）自动执行定义好的操作。触发器用于实现动态完整性约束，是动态约束的典型实现方式。</p>\n<h4 id=\"11-触发器的组成部分\"><a class=\"anchor\" href=\"#11-触发器的组成部分\">#</a> 1.1 触发器的组成部分：</h4>\n<ul>\n<li><strong>事件（Event）</strong>：触发器是基于特定事件触发的，常见的事件有  <code>INSERT</code> 、 <code>UPDATE</code>  和  <code>DELETE</code>  操作。</li>\n<li><strong>时机（Timing）</strong>：触发器可以在事件发生之前（ <code>BEFORE</code> ）或之后（ <code>AFTER</code> ）执行。</li>\n<li><strong>操作（Action）</strong>：当触发器被触发时，执行的 SQL 语句或函数。</li>\n<li><strong>作用范围（Scope）</strong>：触发器可以设置为针对每一行（ <code>FOR EACH ROW</code> ）或针对整个语句（ <code>FOR EACH STATEMENT</code> ）。</li>\n</ul>\n<h4 id=\"12-触发器的基本语法以-postgresql-为例\"><a class=\"anchor\" href=\"#12-触发器的基本语法以-postgresql-为例\">#</a> 1.2 触发器的基本语法（以 PostgreSQL 为例）：</h4>\n<p><figure class=\"highlight sql\"><figcaption><span>row</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">CREATE</span> <span class=\"keyword\">TRIGGER</span> trigger_name</span><br><span class=\"line\">&#123; BEFORE <span class=\"operator\">|</span> AFTER &#125; &#123; <span class=\"keyword\">INSERT</span> <span class=\"operator\">|</span> <span class=\"keyword\">UPDATE</span> <span class=\"operator\">|</span> <span class=\"keyword\">DELETE</span> &#125;</span><br><span class=\"line\"><span class=\"keyword\">ON</span> table_name</span><br><span class=\"line\"><span class=\"keyword\">FOR</span> <span class=\"keyword\">EACH</span> <span class=\"type\">ROW</span></span><br><span class=\"line\"><span class=\"keyword\">EXECUTE</span> <span class=\"keyword\">FUNCTION</span> function_name();</span><br></pre></td></tr></table></figure></p>\n<h4 id=\"13-触发器的示例\"><a class=\"anchor\" href=\"#13-触发器的示例\">#</a> 1.3 触发器的示例：</h4>\n<p>以下示例演示了如何在员工表中使用触发器来检查员工的工资是否在合理范围内（大于 0 且小于 100,000）：</p>\n<ol>\n<li><strong>创建触发器函数</strong>：<br>\n<figure class=\"highlight sql\"><figcaption><span>row</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">CREATE</span> <span class=\"keyword\">OR</span> REPLACE <span class=\"keyword\">FUNCTION</span> check_salary() <span class=\"keyword\">RETURNS</span> <span class=\"keyword\">TRIGGER</span> <span class=\"keyword\">AS</span> $$</span><br><span class=\"line\"><span class=\"keyword\">BEGIN</span></span><br><span class=\"line\">    IF NEW.salary <span class=\"operator\">&lt;</span> <span class=\"number\">0</span> <span class=\"keyword\">THEN</span></span><br><span class=\"line\">        RAISE EXCEPTION <span class=\"string\">&#x27;工资不能为负&#x27;</span>;</span><br><span class=\"line\">    ELSIF NEW.salary <span class=\"operator\">&gt;</span> <span class=\"number\">100000</span> <span class=\"keyword\">THEN</span></span><br><span class=\"line\">        RAISE EXCEPTION <span class=\"string\">&#x27;工资超出上限&#x27;</span>;</span><br><span class=\"line\">    <span class=\"keyword\">END</span> IF;</span><br><span class=\"line\">    <span class=\"keyword\">RETURN</span> <span class=\"keyword\">NEW</span>;</span><br><span class=\"line\"><span class=\"keyword\">END</span>;</span><br><span class=\"line\">$$ <span class=\"keyword\">LANGUAGE</span> plpgsql;</span><br></pre></td></tr></table></figure></li>\n<li><strong>创建触发器</strong>：<br>\n<figure class=\"highlight sql\"><figcaption><span>row</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">CREATE</span> <span class=\"keyword\">TRIGGER</span> salary_trigger</span><br><span class=\"line\">BEFORE <span class=\"keyword\">INSERT</span> <span class=\"keyword\">OR</span> <span class=\"keyword\">UPDATE</span> <span class=\"keyword\">ON</span> employees</span><br><span class=\"line\"><span class=\"keyword\">FOR</span> <span class=\"keyword\">EACH</span> <span class=\"type\">ROW</span></span><br><span class=\"line\"><span class=\"keyword\">EXECUTE</span> <span class=\"keyword\">FUNCTION</span> check_salary();</span><br></pre></td></tr></table></figure><br>\n 在这个例子中，每当试图插入或更新  <code>employees</code>  表时，触发器会调用  <code>check_salary</code>  函数，检查工资的合理性。如果工资不在合法范围内，会抛出异常并阻止该操作。</li>\n</ol>\n<h3 id=\"2-触发器的用途\"><a class=\"anchor\" href=\"#2-触发器的用途\">#</a> 2. 触发器的用途：</h3>\n<p>触发器可以用于以下几种主要场景：</p>\n<h4 id=\"21-数据验证\"><a class=\"anchor\" href=\"#21-数据验证\">#</a> 2.1 数据验证：</h4>\n<p>确保插入或更新的数据满足特定条件，例如值的范围或数据的一致性要求。触发器可以在数据变更之前检查数据是否符合约束条件，避免不合法的数据被插入或更新。</p>\n<h4 id=\"22-自动计算\"><a class=\"anchor\" href=\"#22-自动计算\">#</a> 2.2 自动计算：</h4>\n<p>在插入或更新数据时，自动计算和更新相关字段的值。例如，可以创建一个触发器，在订单被更新时，自动重新计算总价。</p>\n<h4 id=\"23-业务规则的执行\"><a class=\"anchor\" href=\"#23-业务规则的执行\">#</a> 2.3 业务规则的执行：</h4>\n<p>触发器可以帮助实施复杂的业务规则。例如，确保员工的工资不得高于其主管的工资。</p>\n<h4 id=\"24-维护数据完整性\"><a class=\"anchor\" href=\"#24-维护数据完整性\">#</a> 2.4 维护数据完整性：</h4>\n<p>触发器可以用于自动更新或删除与某个表相关的其他表中的数据。例如，使用  <code>ON DELETE CASCADE</code>  可以在删除某条主记录时自动删除所有相关的子记录。</p>\n<h4 id=\"25-审计和日志记录\"><a class=\"anchor\" href=\"#25-审计和日志记录\">#</a> 2.5 审计和日志记录：</h4>\n<p>触发器可以用于跟踪对关键数据的修改，记录修改操作的时间、执行人等信息。例如，每当某个用户数据被修改时，可以记录修改时间和修改内容。</p>\n<h3 id=\"3-触发器的执行时机\"><a class=\"anchor\" href=\"#3-触发器的执行时机\">#</a> 3. 触发器的执行时机：</h3>\n<p>触发器可以配置为在以下几个时机触发：</p>\n<ul>\n<li><strong>BEFORE</strong>：在执行  <code>INSERT</code> 、 <code>UPDATE</code>  或  <code>DELETE</code>  语句之前触发。通常用于验证数据的有效性或在操作之前修改数据。</li>\n<li><strong>AFTER</strong>：在执行  <code>INSERT</code> 、 <code>UPDATE</code>  或  <code>DELETE</code>  语句之后触发。通常用于更新其他表、执行日志记录等。</li>\n</ul>\n<h3 id=\"4-动态完整性约束的示例\"><a class=\"anchor\" href=\"#4-动态完整性约束的示例\">#</a> 4. 动态完整性约束的示例：</h3>\n<p>以下是一个动态完整性约束的具体例子，当在  <code>employees</code>  表中插入或更新员工记录时，触发器会检查新插入或更新的工资是否合法：<br>\n<figure class=\"highlight sql\"><figcaption><span>row</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">-- 创建触发器函数</span></span><br><span class=\"line\"><span class=\"keyword\">CREATE</span> <span class=\"keyword\">OR</span> REPLACE <span class=\"keyword\">FUNCTION</span> check_salary() <span class=\"keyword\">RETURNS</span> <span class=\"keyword\">TRIGGER</span> <span class=\"keyword\">AS</span> $$</span><br><span class=\"line\"><span class=\"keyword\">BEGIN</span></span><br><span class=\"line\">    IF NEW.salary <span class=\"operator\">&lt;</span> <span class=\"number\">0</span> <span class=\"keyword\">THEN</span></span><br><span class=\"line\">        RAISE EXCEPTION <span class=\"string\">&#x27;工资不能为负&#x27;</span>;</span><br><span class=\"line\">    ELSIF NEW.salary <span class=\"operator\">&gt;</span> <span class=\"number\">100000</span> <span class=\"keyword\">THEN</span></span><br><span class=\"line\">        RAISE EXCEPTION <span class=\"string\">&#x27;工资超出上限&#x27;</span>;</span><br><span class=\"line\">    <span class=\"keyword\">END</span> IF;</span><br><span class=\"line\">    <span class=\"keyword\">RETURN</span> <span class=\"keyword\">NEW</span>;</span><br><span class=\"line\"><span class=\"keyword\">END</span>;</span><br><span class=\"line\">$$ <span class=\"keyword\">LANGUAGE</span> plpgsql;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- 创建触发器</span></span><br><span class=\"line\"><span class=\"keyword\">CREATE</span> <span class=\"keyword\">TRIGGER</span> salary_trigger</span><br><span class=\"line\">BEFORE <span class=\"keyword\">INSERT</span> <span class=\"keyword\">OR</span> <span class=\"keyword\">UPDATE</span> <span class=\"keyword\">ON</span> employees</span><br><span class=\"line\"><span class=\"keyword\">FOR</span> <span class=\"keyword\">EACH</span> <span class=\"type\">ROW</span></span><br><span class=\"line\"><span class=\"keyword\">EXECUTE</span> <span class=\"keyword\">FUNCTION</span> check_salary();</span><br></pre></td></tr></table></figure></p>\n<p>在这个例子中， <code>check_salary</code>  函数定义了工资必须在合理范围内的约束条件。通过  <code>salary_trigger</code>  触发器，每当有新的员工数据被插入或员工数据被更新时，系统会自动检查工资的合法性。如果工资不合法，操作将被阻止。</p>\n<h3 id=\"5-触发器的管理\"><a class=\"anchor\" href=\"#5-触发器的管理\">#</a> 5. 触发器的管理：</h3>\n<ul>\n<li><strong>禁用触发器</strong>：在某些情况下（例如批量数据导入），可能需要临时禁用触发器以提高性能。可以使用以下命令禁用触发器：<br>\n<figure class=\"highlight sql\"><figcaption><span>row</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">ALTER</span> <span class=\"keyword\">TABLE</span> employees DISABLE <span class=\"keyword\">TRIGGER</span> salary_trigger;</span><br></pre></td></tr></table></figure></li>\n<li><strong>启用触发器</strong>：执行完批量数据导入后，可以重新启用触发器：<br>\n<figure class=\"highlight sql\"><figcaption><span>row</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">ALTER</span> <span class=\"keyword\">TABLE</span> employees ENABLE <span class=\"keyword\">TRIGGER</span> salary_trigger</span><br></pre></td></tr></table></figure></li>\n<li><strong>删除触发器</strong>：如果不再需要某个触发器，可以使用以下命令删除它：<br>\n<figure class=\"highlight sql\"><figcaption><span>row</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">ALTER</span> <span class=\"keyword\">TABLE</span> employees ENABLE <span class=\"keyword\">TRIGGER</span> salary_trigger</span><br></pre></td></tr></table></figure></li>\n</ul>\n<h3 id=\"总结\"><a class=\"anchor\" href=\"#总结\">#</a> 总结：</h3>\n<p><strong>动态完整性约束</strong>通过触发器机制来确保数据库在变化过程中的数据完整性和一致性。它们主要用于处理数据库状态改变时的约束条件，维护数据的合法性。触发器在数据库系统中具有强大的功能，能够在数据操作的过程中自动执行验证和维护操作，但使用时也需要谨慎，以避免性能问题或意外的副作用。</p>\n<hr>\n<h2 id=\"处理违规约束\"><a class=\"anchor\" href=\"#处理违规约束\">#</a> 处理违规约束</h2>\n<h3 id=\"1-拒绝操作\"><a class=\"anchor\" href=\"#1-拒绝操作\">#</a> 1. <strong>拒绝操作</strong></h3>\n<ul>\n<li><strong>定义</strong>：当数据库中的某个操作违反了完整性约束时，最常见的处理方式就是<strong>拒绝执行该操作</strong>。这种方式直接阻止违反约束的插入、更新或删除操作，从而确保数据的完整性。</li>\n<li><strong>场景</strong>：\n<ul>\n<li>插入一条记录时，如果它违反了唯一约束或主键约束，数据库将拒绝该插入操作。</li>\n<li>更新某列数据时，如果更新后的值不符合  <code>CHECK</code>  约束条件（例如超过了规定的范围），则数据库会拒绝该更新操作。</li>\n</ul>\n</li>\n<li><strong>示例</strong>：<br>\n<figure class=\"highlight sql\"><figcaption><span>row</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">INSERT</span> <span class=\"keyword\">INTO</span> Student (student_id, age) <span class=\"keyword\">VALUES</span> (<span class=\"number\">1</span>, <span class=\"number\">-5</span>);</span><br></pre></td></tr></table></figure><br>\n 如果  <code>age</code>  列的  <code>CHECK</code>  约束是年龄必须大于 0，则插入负年龄的操作会被拒绝。</li>\n</ul>\n<h3 id=\"2-回滚事务\"><a class=\"anchor\" href=\"#2-回滚事务\">#</a> 2. <strong>回滚事务</strong></h3>\n<ul>\n<li><strong>定义</strong>：如果在一个事务中有任何操作违反了完整性约束，整个事务将会被<strong>回滚</strong>。回滚意味着撤销事务中的所有操作，使数据库返回到事务开始之前的状态。</li>\n<li><strong>场景</strong>：\n<ul>\n<li>一个事务中包含多个操作，如果其中任意一个操作违反了完整性约束，所有操作都将被撤销。这样做可以确保数据库不会因为部分执行成功而陷入不一致的状态。</li>\n</ul>\n</li>\n<li><strong>示例</strong>：<br>\n<figure class=\"highlight sql\"><figcaption><span>row</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">BEGIN</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- 插入一条记录</span></span><br><span class=\"line\"><span class=\"keyword\">INSERT</span> <span class=\"keyword\">INTO</span> Accounts (account_id, balance) <span class=\"keyword\">VALUES</span> (<span class=\"number\">1</span>, <span class=\"number\">100</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- 尝试更新一条违反约束的记录</span></span><br><span class=\"line\"><span class=\"keyword\">UPDATE</span> Accounts <span class=\"keyword\">SET</span> balance <span class=\"operator\">=</span> <span class=\"number\">-200</span> <span class=\"keyword\">WHERE</span> account_id <span class=\"operator\">=</span> <span class=\"number\">1</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- 如果更新违反了 CHECK 约束，回滚整个事务</span></span><br><span class=\"line\"><span class=\"keyword\">ROLLBACK</span>;</span><br></pre></td></tr></table></figure><br>\n 在此示例中， <code>balance</code>  列可能有一个  <code>CHECK</code>  约束，要求余额不能为负数。如果  <code>UPDATE</code>  语句违反了该约束，整个事务会回滚， <code>INSERT</code>  操作也会被撤销。</li>\n</ul>\n<h3 id=\"3-执行维护操作\"><a class=\"anchor\" href=\"#3-执行维护操作\">#</a> 3. <strong>执行 “维护” 操作</strong></h3>\n<ul>\n<li>\n<p><strong>定义</strong>：当约束被违反时，数据库可以自动执行某些<strong>维护操作</strong>，以恢复数据库到合法状态。这种方式常见于外键约束和级联操作（Cascading Actions）。</p>\n</li>\n<li>\n<p><strong>场景</strong>：</p>\n<ul>\n<li>当删除父表中的记录时，如果该记录被子表引用，外键约束可能会被违反。在这种情况下，数据库可以通过<strong>级联删除</strong>或<strong>级联更新</strong>来维护数据一致性。</li>\n<li>另一种维护操作是将相关外键字段设置为  <code>NULL</code>  或默认值，以避免参照完整性约束被违反。</li>\n</ul>\n</li>\n<li>\n<p><strong>维护操作类型</strong>：</p>\n<ul>\n<li><strong>ON DELETE CASCADE</strong>：删除父表记录时，自动删除子表中所有引用该记录的行。</li>\n<li><strong>ON UPDATE CASCADE</strong>：当父表中关键字段被更新时，自动更新子表中所有相关的外键字段。</li>\n<li><strong>ON DELETE/UPDATE SET NULL</strong>：当父表记录被删除或更新时，子表的外键列被设置为  <code>NULL</code> 。</li>\n<li><strong>ON DELETE/UPDATE SET DEFAULT</strong>：当父表记录被删除或更新时，子表的外键列被设置为默认值。</li>\n</ul>\n</li>\n<li>\n<p><strong>示例</strong>：<br>\n<figure class=\"highlight sql\"><figcaption><span>row</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">CREATE</span> <span class=\"keyword\">TABLE</span> Orders (</span><br><span class=\"line\">    order_id <span class=\"type\">INT</span> <span class=\"keyword\">PRIMARY</span> KEY,</span><br><span class=\"line\">    customer_id <span class=\"type\">INT</span>,</span><br><span class=\"line\">    <span class=\"keyword\">FOREIGN</span> KEY (customer_id) <span class=\"keyword\">REFERENCES</span> Customers(customer_id)</span><br><span class=\"line\">    <span class=\"keyword\">ON</span> <span class=\"keyword\">DELETE</span> CASCADE</span><br><span class=\"line\">);</span><br></pre></td></tr></table></figure><br>\n 在这个示例中，如果  <code>Customers</code>  表中的某个客户记录被删除，则  <code>Orders</code>  表中所有引用该客户的订单记录也会自动被删除。</p>\n</li>\n</ul>\n<h3 id=\"总结-2\"><a class=\"anchor\" href=\"#总结-2\">#</a> 总结</h3>\n<ul>\n<li><strong>拒绝操作</strong>：直接阻止违反约束的插入、更新或删除操作。</li>\n<li><strong>回滚事务</strong>：如果事务中的任何操作违反约束，整个事务都会被撤销。</li>\n<li><strong>执行维护操作</strong>：通过设置级联操作或将外键字段设置为  <code>NULL</code>  或默认值，自动维护数据库的完整性。</li>\n</ul>\n",
            "tags": [
                "数据库"
            ]
        },
        {
            "id": "http://example.com/2024/09/16/%E5%9F%BA%E7%A1%80%E6%93%8D%E4%BD%9C/",
            "url": "http://example.com/2024/09/16/%E5%9F%BA%E7%A1%80%E6%93%8D%E4%BD%9C/",
            "title": "基础操作",
            "date_published": "2024-09-16T09:39:52.951Z",
            "content_html": "<h1 id=\"quick-start\"><a class=\"anchor\" href=\"#quick-start\">#</a> Quick Start</h1>\n<p><span class=\"label warning\">1</span><br>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># H1</span><br><span class=\"line\">## H2</span><br><span class=\"line\">### H3</span><br><span class=\"line\">#### H4</span><br><span class=\"line\">##### H5</span><br><span class=\"line\">###### H6</span><br><span class=\"line\"></span><br><span class=\"line\">Alternatively, for H1 and H2, an underline-ish style:</span><br><span class=\"line\"></span><br><span class=\"line\">Alt-H1</span><br><span class=\"line\">======</span><br><span class=\"line\"></span><br><span class=\"line\">Alt-H2</span><br><span class=\"line\">------</span><br></pre></td></tr></table></figure></p>\n<h1 id=\"h1\"><a class=\"anchor\" href=\"#h1\">#</a> H1</h1>\n<h2 id=\"h2\"><a class=\"anchor\" href=\"#h2\">#</a> H2</h2>\n<h3 id=\"h3\"><a class=\"anchor\" href=\"#h3\">#</a> H3</h3>\n<h4 id=\"h4\"><a class=\"anchor\" href=\"#h4\">#</a> H4</h4>\n<h5 id=\"h5\"><a class=\"anchor\" href=\"#h5\">#</a> H5</h5>\n<h6 id=\"h6\"><a class=\"anchor\" href=\"#h6\">#</a> H6</h6>\n<p>Alternatively, for H1 and H2, an underline-ish style:</p>\n<h1 id=\"alt-h1\"><a class=\"anchor\" href=\"#alt-h1\">#</a> Alt-H1</h1>\n<h2 id=\"alt-h2\"><a class=\"anchor\" href=\"#alt-h2\">#</a> Alt-H2</h2>\n<h3 id=\"md文档开头标签\"><a class=\"anchor\" href=\"#md文档开头标签\">#</a> md 文档开头标签</h3>\n<p><figure class=\"highlight md\"><figcaption><span>row</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">title: 置顶文章 #文章标题</span><br><span class=\"line\">date: 文章发布是年/月/日 时/分/秒 #时间</span><br><span class=\"line\">sticky: true #是否置顶</span><br><span class=\"line\">categories: # 文章分类</span><br><span class=\"line\"><span class=\"bullet\">-</span> [计算机科学, Java, 零基础学Java语言-浙江大学-翁恺]</span><br><span class=\"line\">cover: http://placehold.it/350x150.jpg #文章封面</span><br><span class=\"line\">tags: #标签</span><br><span class=\"line\">description： #简介</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"创建文件\"><a class=\"anchor\" href=\"#创建文件\">#</a> 创建文件</h3>\n<p><figure class=\"highlight bash\"><figcaption><span>row</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo new new-project</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"启动本地服务\"><a class=\"anchor\" href=\"#启动本地服务\">#</a> 启动本地服务</h3>\n<p><figure class=\"highlight bash\"><figcaption><span>row</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo server</span><br></pre></td></tr></table></figure></p>\n<p>More info: <span class=\"exturl\" data-url=\"aHR0cHM6Ly9oZXhvLmlvL2RvY3Mvc2VydmVyLmh0bWw=\">Server</span></p>\n<h3 id=\"generate-static-files\"><a class=\"anchor\" href=\"#generate-static-files\">#</a> Generate static files</h3>\n<p><figure class=\"highlight bash\"><figcaption><span>row</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo generate</span><br></pre></td></tr></table></figure></p>\n<p>More info: <span class=\"exturl\" data-url=\"aHR0cHM6Ly9oZXhvLmlvL2RvY3MvZ2VuZXJhdGluZy5odG1s\">Generating</span></p>\n<h3 id=\"deploy-to-remote-sites\"><a class=\"anchor\" href=\"#deploy-to-remote-sites\">#</a> Deploy to remote sites</h3>\n<p><figure class=\"highlight bash\"><figcaption><span>row</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo deploy</span><br></pre></td></tr></table></figure></p>\n<p>More info: <span class=\"exturl\" data-url=\"aHR0cHM6Ly9oZXhvLmlvL2RvY3Mvb25lLWNvbW1hbmQtZGVwbG95bWVudC5odG1s\">Deployment</span></p>\n<h2 id=\"常用\"><a class=\"anchor\" href=\"#常用\">#</a> 常用</h2>\n<h3 id=\"代码块\"><a class=\"anchor\" href=\"#代码块\">#</a>  <code>代码块</code></h3>\n<p><figure class=\"highlight md\"><figcaption><span>row</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"literal\">&amp;#96;</span><span class=\"literal\">&amp;#96;</span><span class=\"literal\">&amp;#96;</span>java 行高亮 https://shoka.lostyu.me 参考链接 mark:1,6-7</span><br><span class=\"line\">import java.util.Scanner;</span><br><span class=\"line\">...</span><br><span class=\"line\">Scanner in = new Scanner (System.in);</span><br><span class=\"line\">// 输入 Scan 之后，按下键盘 Alt + “/” 键，Eclipse 下自动补全。</span><br><span class=\"line\"></span><br><span class=\"line\">System.out.println (in.nextLine ());</span><br><span class=\"line\">System.out.println (&quot;Hello&quot; + &quot;world.&quot;);</span><br><span class=\"line\"><span class=\"literal\">&amp;#96;</span><span class=\"literal\">&amp;#96;</span><span class=\"literal\">&amp;#96;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"literal\">&amp;#96;</span><span class=\"literal\">&amp;#96;</span><span class=\"literal\">&amp;#96;</span>bash 命令行提示符 command:(&quot;[root@localhost] $&quot;:1,9-10||&quot;[admin@remotehost] #&quot;:4-6)</span><br><span class=\"line\">pwd</span><br><span class=\"line\">/usr/home/chris/bin</span><br><span class=\"line\">ls -la</span><br><span class=\"line\">total 2</span><br><span class=\"line\">drwxr-xr-x   2 chris  chris     11 Jan 10 16:48 .</span><br><span class=\"line\">drwxr--r-x  45 chris  chris     92 Feb 14 11:10 ..</span><br><span class=\"line\">-rwxr-xr-x   1 chris  chris    444 Aug 25  2013 backup</span><br><span class=\"line\">-rwxr-xr-x   1 chris  chris    642 Jan 17 14:42 deploy</span><br><span class=\"line\">git add -A</span><br><span class=\"line\">git commit -m &quot;update&quot;</span><br><span class=\"line\">git push</span><br><span class=\"line\"><span class=\"literal\">&amp;#96;</span><span class=\"literal\">&amp;#96;</span><span class=\"literal\">&amp;#96;</span></span><br></pre></td></tr></table></figure></p>\n<p><figure class=\"highlight java\"><figcaption><span>行高亮</span><span class=\"exturl\" data-url=\"aHR0cHM6Ly9zaG9rYS5sb3N0eXUubWU=\">参考链接 mark:1,6-7</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> java.util.Scanner;</span><br><span class=\"line\">...</span><br><span class=\"line\"><span class=\"type\">Scanner</span> <span class=\"variable\">in</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Scanner</span> (System.in);</span><br><span class=\"line\"><span class=\"comment\">// 输入 Scan 之后，按下键盘 Alt + “/” 键，Eclipse 下自动补全。</span></span><br><span class=\"line\"></span><br><span class=\"line\">System.out.println (in.nextLine ());</span><br><span class=\"line\">System.out.println (<span class=\"string\">&quot;Hello&quot;</span> + <span class=\"string\">&quot;world.&quot;</span>);</span><br></pre></td></tr></table></figure></p>\n<p><figure class=\"highlight bash\"><figcaption><span>命令行提示符 command:(\"[root@localhost] $\":1,9-10||\"[admin@remotehost] #\":4-6)</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">pwd</span></span><br><span class=\"line\">/usr/home/chris/bin</span><br><span class=\"line\"><span class=\"built_in\">ls</span> -la</span><br><span class=\"line\">total 2</span><br><span class=\"line\">drwxr-xr-x   2 chris  chris     11 Jan 10 16:48 .</span><br><span class=\"line\">drwxr--r-x  45 chris  chris     92 Feb 14 11:10 ..</span><br><span class=\"line\">-rwxr-xr-x   1 chris  chris    444 Aug 25  2013 backup</span><br><span class=\"line\">-rwxr-xr-x   1 chris  chris    642 Jan 17 14:42 deploy</span><br><span class=\"line\">git add -A</span><br><span class=\"line\">git commit -m <span class=\"string\">&quot;update&quot;</span></span><br><span class=\"line\">git push</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"note-提醒块\"><a class=\"anchor\" href=\"#note-提醒块\">#</a>  <code>note</code>  提醒块</h3>\n<ul>\n<li>111</li>\n</ul>\n<hr>\n<p><figure class=\"highlight markdown\"><figcaption><span>row</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">:::default</span><br><span class=\"line\">默认默认</span><br><span class=\"line\">:::</span><br><span class=\"line\"></span><br><span class=\"line\">:::primary</span><br><span class=\"line\">基本基本</span><br><span class=\"line\">:::</span><br><span class=\"line\"></span><br><span class=\"line\">:::info</span><br><span class=\"line\">提示提示</span><br><span class=\"line\">:::</span><br><span class=\"line\"></span><br><span class=\"line\">:::success</span><br><span class=\"line\">成功成功</span><br><span class=\"line\">:::</span><br><span class=\"line\"></span><br><span class=\"line\">:::warning</span><br><span class=\"line\">警告警告</span><br><span class=\"line\">:::</span><br><span class=\"line\"></span><br><span class=\"line\">:::danger</span><br><span class=\"line\">危险危险</span><br><span class=\"line\">:::</span><br><span class=\"line\"></span><br><span class=\"line\">:::danger no-icon</span><br><span class=\"line\">危险危险</span><br><span class=\"line\">:::</span><br></pre></td></tr></table></figure></p>\n<div class=\"note default\">\n<p>默认默认</p>\n</div>\n<div class=\"note primary\">\n<p>基本基本</p>\n</div>\n<div class=\"note info\">\n<p>提示提示</p>\n</div>\n<div class=\"note success\">\n<p>成功成功</p>\n</div>\n<div class=\"note warning\">\n<p>警告警告</p>\n</div>\n<div class=\"note danger\">\n<p>危险危险</p>\n</div>\n<div class=\"note danger no-icon\">\n<p>危险危险</p>\n</div>\n<h2 id=\"label标签块\"><a class=\"anchor\" href=\"#label标签块\">#</a> label 标签块</h2>\n<hr>\n<p><figure class=\"highlight md\"><figcaption><span>row</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[default]&#123;.label&#125;</span><br><span class=\"line\">[primary]&#123;.label .primary&#125;</span><br><span class=\"line\">[info]&#123;.label .info&#125;</span><br><span class=\"line\">[:heavy<span class=\"emphasis\">_check_</span>mark:success]&#123;.label .success&#125;</span><br><span class=\"line\">[warning]&#123;.label .warning&#125;</span><br><span class=\"line\">[:broken<span class=\"emphasis\">_heart:danger]&#123;.label .danger&#125;</span></span><br></pre></td></tr></table></figure><br>\n<span class=\"label\">default</span><br>\n<span class=\"label primary\">primary</span><br>\n<span class=\"label info\">info</span><br>\n<span class=\"label success\">✔️success</span><br>\n<span class=\"label warning\">warning</span><br>\n<span class=\"label danger\">💔danger</span></p>\n<h2 id=\"文字特效\"><a class=\"anchor\" href=\"#文字特效\">#</a> 文字特效</h2>\n<hr>\n<p><figure class=\"highlight md\"><figcaption><span>row</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">++下划线++</span><br><span class=\"line\">++波浪线++&#123;.wavy&#125;</span><br><span class=\"line\">++着重点++&#123;.dot&#125;</span><br><span class=\"line\">++紫色下划线++&#123;.primary&#125;</span><br><span class=\"line\">++绿色波浪线++&#123;.wavy .success&#125;</span><br><span class=\"line\">++黄色着重点++&#123;.dot .warning&#125;</span><br><span class=\"line\">~~删除线～～</span><br><span class=\"line\">~~红色删除线～～&#123;.danger&#125;</span><br><span class=\"line\">==荧光高亮==</span><br><span class=\"line\">[赤橙黄绿青蓝紫]&#123;.rainbow&#125;</span><br><span class=\"line\">[红色]&#123;.red&#125;</span><br><span class=\"line\">[粉色]&#123;.pink&#125;</span><br><span class=\"line\">[橙色]&#123;.orange&#125;</span><br><span class=\"line\">[黄色]&#123;.yellow&#125;</span><br><span class=\"line\">[绿色]&#123;.green&#125;</span><br><span class=\"line\">[靛青]&#123;.aqua&#125;</span><br><span class=\"line\">[蓝色]&#123;.blue&#125;</span><br><span class=\"line\">[紫色]&#123;.purple&#125;</span><br><span class=\"line\">[灰色]&#123;.grey&#125;</span><br><span class=\"line\">快捷键 [Ctrl]&#123;.kbd&#125; + [C]&#123;.kbd .red&#125;</span><br><span class=\"line\">H~2~0</span><br><span class=\"line\">29^th^</span><br></pre></td></tr></table></figure></p>\n<p><ins>下划线</ins><br>\n<ins class=\"wavy\">波浪线</ins><br>\n<ins class=\"dot\">着重点</ins><br>\n<ins class=\"primary\">紫色下划线</ins><br>\n<ins class=\"wavy success\">绿色波浪线</ins><br>\n<ins class=\"dot warning\">黄色着重点</ins><br>\n～～删除线～～<br>\n~~ <s class=\"danger\">红色删除线</s><br>\n<mark>荧光高亮</mark><br>\n<span class=\"rainbow\">赤橙黄绿青蓝紫</span><br>\n<span class=\"red\">红色</span><br>\n<span class=\"pink\">粉色</span><br>\n<span class=\"orange\">橙色</span><br>\n<span class=\"yellow\">黄色</span><br>\n<span class=\"green\">绿色</span><br>\n<span class=\"aqua\">靛青</span><br>\n<span class=\"blue\">蓝色</span><br>\n<span class=\"purple\">紫色</span><br>\n<span class=\"grey\">灰色</span><br>\n快捷键 <span class=\"kbd\">Ctrl</span> + <span class=\"kbd red\">C</span><br>\nH<sub>2</sub>0<br>\n29<sup>th</sup></p>\n<h2 id=\"collapse-折叠块\"><a class=\"anchor\" href=\"#collapse-折叠块\">#</a> collapse 折叠块</h2>\n<hr>\n<p><figure class=\"highlight md\"><figcaption><span>row</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">+++ 默认默认 这里是一段文字</span><br><span class=\"line\">++ 下划线 ++</span><br><span class=\"line\">+++</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">+++primary 紫色</span><br><span class=\"line\">:::info</span><br><span class=\"line\">参考信息</span><br><span class=\"line\">:::</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"bullet\">-</span> 第一行</span><br><span class=\"line\"><span class=\"bullet\">-</span> 第二行</span><br><span class=\"line\">+++</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">+++info  蓝色</span><br><span class=\"line\">;;;id3 卡片 1</span><br><span class=\"line\">这里是卡片 1 的内容</span><br><span class=\"line\">;;;</span><br><span class=\"line\"></span><br><span class=\"line\">;;;id3 卡片 2</span><br><span class=\"line\">这里是卡片 2 的内容</span><br><span class=\"line\">;;;</span><br><span class=\"line\">+++</span><br><span class=\"line\"></span><br><span class=\"line\">+++success 绿色</span><br><span class=\"line\">&#123;% links %&#125;</span><br><span class=\"line\"><span class=\"bullet\">-</span> site: 優萌初華</span><br><span class=\"line\">  url: https://shoka.lostyu.me</span><br><span class=\"line\">  color: &quot;#e9546b&quot;</span><br><span class=\"line\">&#123;% endlinks %&#125;</span><br><span class=\"line\">+++</span><br><span class=\"line\"></span><br><span class=\"line\">+++warning 黄色</span><br><span class=\"line\">!! 警告警告警告警告警告！！&#123;.bulr&#125;</span><br><span class=\"line\">[label]&#123;.label .success&#125;</span><br><span class=\"line\">+++</span><br><span class=\"line\"></span><br><span class=\"line\">+++danger 红色</span><br><span class=\"line\">[danger]&#123;.label .danger&#125;</span><br><span class=\"line\">+++</span><br></pre></td></tr></table></figure></p>\n<details><summary>默认默认 这里是一段文字</summary><div>\n<p>++ 下划线 ++</p>\n</div></details>\n<details class=\"primary\"><summary>紫色</summary><div>\n<div class=\"note info\">\n<p>参考信息</p>\n</div>\n<ul>\n<li>第一行</li>\n<li>第二行</li>\n</ul>\n</div></details>\n<details class=\"info\"><summary>蓝色</summary><div>\n<div class=\"tab\" data-id=\"id3\" data-title=\"卡片 1\">\n<p>这里是卡片 1 的内容</p>\n</div>\n<div class=\"tab\" data-id=\"id3\" data-title=\"卡片 2\">\n<p>这里是卡片 2 的内容</p>\n</div>\n</div></details>\n<details class=\"success\"><summary>绿色</summary><div>\n<p><div class=\"links\"><div class=\"item\" title=\"優萌初華\" style=\"--block-color:#e9546b;\"><span class=\"exturl image\" data-url=\"aHR0cHM6Ly9zaG9rYS5sb3N0eXUubWU=\" data-background-image=\"/images/404.png\"></span>\n          <div class=\"info\">\n          <span class=\"exturl title\" data-url=\"aHR0cHM6Ly9zaG9rYS5sb3N0eXUubWU=\">優萌初華</span>\n          <p class=\"desc\">https://shoka.lostyu.me</p>\n          </div></div></div></p>\n</div></details>\n<details class=\"warning\"><summary>黄色</summary><div>\n<p>!! 警告警告警告警告警告！！{.bulr}<br>\n<span class=\"label success\">label</span></p>\n</div></details>\n<details class=\"danger\"><summary>红色</summary><div>\n<p><span class=\"label danger\">danger</span></p>\n</div></details>\n<p><img data-src=\"https://blog-1321157486.cos.ap-nanjing.myqcloud.com/database/cover_1.jpg\" alt=\"图片描述\"></p>\n",
            "tags": []
        }
    ]
}